{"version":3,"sources":["components/Navbar/Navbar.module.css","reportWebVitals.js","components/Navbar/Navbar.jsx","utils/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/app-reducer.js","hoc/withSuspense.js","redux/sidebar-reducer.js","redux/redux-store.js","App.js","index.js","redux/auth-reducer.js","assets/images/spinner-icon-gif-23.jpg","components/common/Preloader/Preloader.js","components/Header/Header.module.css","components/common/Paginator/Paginator.module.css","redux/profile-reducer.js","assets/images/user.png","redux/dialogs-reducer.js","api/api.js","components/Users/users.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","classes","nav","item","to","activeClassName","active","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","userId","type","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","state","action","followed","count","filter","id","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","user","unfollow","follow","src","photos","small","userPhoto","alt","disabled","some","name","status","Users","props","getUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getFollowingInProgress","getIsFetching","UsersContainer","this","Preloader","React","Component","compose","connect","usersAPI","bind","page","data","totalCount","Header","login","logout","isAuth","header","rotateShadows","title","loginBlock","HeaderContainer","auth","INITIALIZED_SUCCESS","initialized","appReducer","withSuspense","fallback","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","authReducer","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","DialogsContainer","lazy","ProfileContainer","Login","Music","News","Settings","App","initializeApp","path","render","exact","AppContainer","withRouter","promise","getUserData","Promise","all","SocialNWApp","ReactDOM","document","getElementById","SET_USER_DATA","email","captchaUrl","setUserData","payload","authAPI","getUsersMe","password","rememberMe","captcha","message","messages","length","stopSubmit","_error","preloader","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likesCount","profile","addPostActionCreator","newPostText","setStatusActionCreator","getUserProfile","profileAPI","getUsersProfile","getUsersStatus","updateStatus","savePhoto","file","saveProfile","getState","reject","newPost","postId","SEND_MESSAGE","dialogs","sendMessageCreator","newMessageBody","body","instance","axios","withCredentials","headers","baseURL","get","response","post","delete","put","photoFile","formData","FormData","append","securityAPI","getCaptchaUrl"],"mappings":"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","file":"static/js/main.bff6e682.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3-1bl\",\"item\":\"Navbar_item__7vL1M\",\"active\":\"Navbar_active__3cdEF\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport classes from \"./Navbar.module.css\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={classes.nav}>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/profile\" activeClassName={classes.active}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/dialogs\" activeClassName={classes.active}>\r\n          Dialogs\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/users\" activeClassName={classes.active}>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/news\" activeClassName={classes.active}>\r\n          News\r\n        </NavLink>\r\n      </div>\r\n\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/music\" activeClassName={classes.active}>\r\n          Music\r\n        </NavLink>\r\n      </div>\r\n\r\n      <div className={classes.item}>\r\n        {\" \"}\r\n        <NavLink to=\"/setings\" activeClassName={classes.active}>\r\n          Settings\r\n        </NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\nexport default Navbar;\r\n","export const updateObjectInArray = (\r\n  items,\r\n  itemId,\r\n  objPropName,\r\n  newObjProps\r\n) => {\r\n  return items.map((u) => {\r\n    if (u[objPropName] === itemId) {\r\n      return { ...u, ...newObjProps };\r\n    }\r\n    return u;\r\n  });\r\n};\r\n","import { usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n};\r\n// let initialState = {\r\n//   profilePage: {\r\n//     posts: [\r\n//       {\r\n//         id: 1,\r\n//         message: \"Hi, how are you?\",\r\n//         likesCount: 12,\r\n//       },\r\n//       {\r\n//         id: 2,\r\n//         message: \"It`s my first post\",\r\n//         likesCount: 11,\r\n//       },\r\n//       {\r\n//         id: 3,\r\n//         message: \"YoYo!!\",\r\n//         likesCount: 15,\r\n//       },\r\n//     ],\r\n//     profile: {\r\n//       aboutMe: null,\r\n//       contacts: {\r\n//         facebook: null,\r\n//         website: null,\r\n//         vk: null,\r\n//         twitter: null,\r\n//         instagram: null,\r\n//         youtube: null,\r\n//         github: null,\r\n//         mainLink: null,\r\n//       },\r\n//       lookingForAJob: false,\r\n//       lookingForAJobDescription: null,\r\n//       fullName: \"Ludanova\",\r\n//       userId: 15520,\r\n//       photos: {\r\n//         small: null,\r\n//         large: null,\r\n//       },\r\n//     },\r\n//     status: \"hello react\",\r\n//   },\r\n//   dialogsPage: {\r\n//     dialogs: [\r\n//       {\r\n//         id: 1,\r\n//         name: \"Flaffy\",\r\n//       },\r\n//       {\r\n//         id: 2,\r\n//         name: \"Holly\",\r\n//       },\r\n//       {\r\n//         id: 3,\r\n//         name: \"Berry\",\r\n//       },\r\n//       {\r\n//         id: 4,\r\n//         name: \"Flint\",\r\n//       },\r\n//       {\r\n//         id: 5,\r\n//         name: \"Mikky\",\r\n//       },\r\n//     ],\r\n//     messages: [\r\n//       {\r\n//         id: 1,\r\n//         message: \"Hi\",\r\n//       },\r\n//       {\r\n//         id: 2,\r\n//         message: \"Hello\",\r\n//       },\r\n//       {\r\n//         id: 3,\r\n//         message: \"Glad to see\",\r\n//       },\r\n//       {\r\n//         id: 4,\r\n//         message: \"Wow\",\r\n//       },\r\n//       {\r\n//         id: 5,\r\n//         message: \"What&\",\r\n//       },\r\n//     ],\r\n//   },\r\n//   sidebar: {},\r\n//   usersPage: {\r\n//     users: [\r\n//       {\r\n//         name: \"restdz\",\r\n//         id: 15623,\r\n//         uniqueUrlName: null,\r\n//         photos: {\r\n//           small: null,\r\n//           large: null,\r\n//         },\r\n//         status: null,\r\n//         followed: true,\r\n//       },\r\n//       {\r\n//         name: \"Vova342\",\r\n//         id: 15622,\r\n//         uniqueUrlName: null,\r\n//         photos: {\r\n//           small: null,\r\n//           large: null,\r\n//         },\r\n//         status: null,\r\n//         followed: false,\r\n//       },\r\n//       {\r\n//         name: \"test12344\",\r\n//         id: 15621,\r\n//         uniqueUrlName: null,\r\n//         photos: {\r\n//           small: null,\r\n//           large: null,\r\n//         },\r\n//         status: null,\r\n//         followed: false,\r\n//       },\r\n//       {\r\n//         name: \"raxani6032\",\r\n//         id: 15620,\r\n//         uniqueUrlName: null,\r\n//         photos: {\r\n//           small: null,\r\n//           large: null,\r\n//         },\r\n//         status: null,\r\n//         followed: false,\r\n//       },\r\n//       {\r\n//         name: \"Monika\",\r\n//         id: 15619,\r\n//         uniqueUrlName: null,\r\n//         photos: {\r\n//           small: null,\r\n//           large: null,\r\n//         },\r\n//         status: null,\r\n//         followed: false,\r\n//       },\r\n//     ],\r\n//     pageSize: 5,\r\n//     totalUsersCount: 10631,\r\n//     currentPage: 1,\r\n//     isFetching: false,\r\n//     followingInProgress: [],\r\n//   },\r\n//   auth: {\r\n//     userId: 15520,\r\n//     email: \"irynaludanova@gmail.com\",\r\n//     login: \"Ludanova\",\r\n//     isAuth: true,\r\n//   },\r\n//   form: {},\r\n//   app: {\r\n//     initialized: true,\r\n//   },\r\n// };\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\r\n          followed: true,\r\n        }),\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\r\n          followed: false,\r\n        }),\r\n      };\r\n    case SET_USERS: {\r\n      return { ...state, users: action.users };\r\n    }\r\n    case SET_CURRENT_PAGE: {\r\n      return { ...state, currentPage: action.currentPage };\r\n    }\r\n    case SET_TOTAL_USERS_COUNT: {\r\n      return { ...state, totalUsersCount: action.count };\r\n    }\r\n    case TOGGLE_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching };\r\n    }\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id !== action.userId),\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count: totalUsersCount,\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n    let data = await usersAPI.getUsers(page, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n  };\r\n};\r\n\r\nconst followUnfollowFlow = async (\r\n  dispatch,\r\n  userId,\r\n  apiMethod,\r\n  actionCreator\r\n) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  let data = await apiMethod(userId);\r\n  if (data.resultCode === 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n};\r\nexport const follow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(\r\n      dispatch,\r\n      userId,\r\n      usersAPI.follow.bind(usersAPI),\r\n      followSuccess\r\n    );\r\n  };\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(\r\n      dispatch,\r\n      userId,\r\n      usersAPI.unfollow.bind(usersAPI),\r\n      unfollowSuccess\r\n    );\r\n  };\r\n};\r\n\r\nexport default usersReducer;\r\n","import React, { useState } from \"react\";\r\nimport classes from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({\r\n  totalUsersCount,\r\n  pageSize,\r\n  currentPage,\r\n  onPageChanged,\r\n  portionSize = 10,\r\n}) => {\r\n  let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={classes.paginator}>\r\n      {portionNumber > 1 && (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber - 1);\r\n          }}\r\n        >\r\n          PREV\r\n        </button>\r\n      )}\r\n\r\n      {pages\r\n        .filter(\r\n          (p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber\r\n        )\r\n        .map((p) => {\r\n          return (\r\n            <span\r\n              className={cn(\r\n                {\r\n                  [classes.selectedPage]: currentPage === p,\r\n                },\r\n                classes.pageNumber\r\n              )}\r\n              key={p}\r\n              onClick={(e) => {\r\n                onPageChanged(p);\r\n              }}\r\n            >\r\n              {p}\r\n            </span>\r\n          );\r\n        })}\r\n\r\n      {portionCount > portionNumber && (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber + 1);\r\n          }}\r\n        >\r\n          NEXT\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import React from \"react\";\r\nimport classes from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow }) => {\r\n  return (\r\n    <div>\r\n      <span>\r\n        <div>\r\n          <NavLink to={`/profile/` + user.id}>\r\n            <img\r\n              src={user.photos.small != null ? user.photos.small : userPhoto}\r\n              alt={\"userphoto\"}\r\n              className={classes.userPhoto}\r\n            />\r\n          </NavLink>\r\n        </div>\r\n        <div>\r\n          {user.followed ? (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                unfollow(user.id);\r\n              }}\r\n            >\r\n              Unfollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                follow(user.id);\r\n              }}\r\n            >\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n      </span>\r\n      <span>\r\n        <span>\r\n          <div>{user.name}</div>\r\n          <div>{user.status}</div>\r\n        </span>\r\n        <span>\r\n          <div>{\"user.location.country\"}</div>\r\n          <div>{\"user.location.city\"}</div>\r\n        </span>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\nexport default User;\r\n","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({\r\n  currentPage,\r\n  onPageChanged,\r\n  totalUsersCount,\r\n  pageSize,\r\n  users,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <div>\r\n      <Paginator\r\n        currentPage={currentPage}\r\n        onPageChanged={onPageChanged}\r\n        pageSize={pageSize}\r\n        totalUsersCount={totalUsersCount}\r\n      />\r\n      <div>\r\n        {users.map((u) => (\r\n          <User\r\n            user={u}\r\n            key={u.id}\r\n            followingInProgress={props.followingInProgress}\r\n            unfollow={props.unfollow}\r\n            follow={props.follow}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Users;\r\n","import { createSelector } from \"reselect\";\r\nconst getUsersSelector = (state) => {\r\n  return state.usersPage.users;\r\n};\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n  return users.filter((u) => true);\r\n});\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n};\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n};\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n};\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  follow,\r\n  setCurrentPage,\r\n  unfollow,\r\n  toggleFollowingProgress,\r\n  requestUsers,\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport {\r\n  getPageSize,\r\n  getUsers,\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getTotalUsersCount,\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    const { currentPage, pageSize } = this.props;\r\n    this.props.getUsers(currentPage, pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    const { pageSize } = this.props;\r\n    this.props.getUsers(pageNumber, pageSize);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.onPageChanged}\r\n          users={this.props.users}\r\n          follow={this.props.follow}\r\n          unfollow={this.props.unfollow}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n// let mapStateToProps = (state) => {\r\n//   return {\r\n//     users: state.usersPage.users,\r\n//     pageSize: state.usersPage.pageSize,\r\n//     totalUsersCount: state.usersPage.totalUsersCount,\r\n//     currentPage: state.usersPage.currentPage,\r\n//     isFetching: state.usersPage.isFetching,\r\n//     followingInProgress: state.usersPage.followingInProgress,\r\n//   };\r\n// };\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    getUsers: requestUsers,\r\n  })\r\n)(UsersContainer);\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport classes from \"./Header.module.css\";\r\n\r\nconst Header = ({ login, logout, isAuth }) => {\r\n  return (\r\n    <header className={classes.header}>\r\n      <div className={classes.rotateShadows}></div>\r\n      <div className={classes.title}>\r\n        <h1>Dev2Dev</h1>\r\n        <h2>social network</h2>\r\n      </div>\r\n      <div className={classes.loginBlock}>\r\n        {isAuth ? (\r\n          <div>\r\n            {login} <button onClick={logout}>LogOut</button>\r\n          </div>\r\n        ) : (\r\n          <NavLink to={\"/login\"}>Login</NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);\r\n","import { getUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n\r\nlet initialState = {\r\n  initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(getUserData());\r\n  Promise.all([promise]).then(() => {\r\n    dispatch(initializedSuccess());\r\n  });\r\n};\r\n\r\nexport default appReducer;\r\n","import React, { Suspense } from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n  return (props) => {\r\n    return (\r\n      <Suspense fallback={<Preloader />}>\r\n        <Component {...props} />\r\n      </Suspense>\r\n    );\r\n  };\r\n};\r\n","let initialState = {};\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state;\r\n};\r\n\r\nexport default sidebarReducer;\r\n","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(thunkMiddleware))\r\n);\r\n\r\nwindow.__store__ = store;\r\nexport default store;\r\n","import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport { HashRouter, Route, withRouter } from \"react-router-dom\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport { connect, Provider } from \"react-redux\";\r\nimport { initializeApp } from \"./redux/app-reducer\";\r\nimport { compose } from \"redux\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport { withSuspense } from \"./hoc/withSuspense\";\r\nimport store from \"./redux/redux-store\";\r\n\r\nconst DialogsContainer = React.lazy(() =>\r\n  import(\"./components/Dialogs/DialogsContainer\")\r\n);\r\nconst ProfileContainer = React.lazy(() =>\r\n  import(\"./components/Profile/ProfileContainer\")\r\n);\r\nconst Login = React.lazy(() => import(\"./components/Login/Login\"));\r\nconst Music = React.lazy(() => import(\"./components/Music/Music\"));\r\nconst News = React.lazy(() => import(\"./components/News/News\"));\r\nconst Settings = React.lazy(() => import(\"./components/Settings/Settings\"));\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />;\r\n    }\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <Navbar />\r\n        <div className=\"app-wrapper-content\">\r\n          <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\r\n          <Route\r\n            path=\"/profile/:userId?\"\r\n            render={withSuspense(ProfileContainer)}\r\n          />\r\n          <Route path=\"/login\" render={withSuspense(Login)} />\r\n          <Route path=\"/news\" render={withSuspense(News)} />\r\n          <Route path=\"/music\" render={withSuspense(Music)} />\r\n          <Route path=\"/settings\" render={withSuspense(Settings)} />\r\n\r\n          <Route path=\"/users\" render={() => <UsersContainer />} />\r\n\r\n          <Route exact path=\"/news\" render={() => <News />} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized,\r\n});\r\nlet AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp })\r\n)(App);\r\n\r\nconst SocialNWApp = (props) => {\r\n  return (\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <AppContainer />\r\n      </Provider>\r\n    </HashRouter>\r\n  );\r\n};\r\n\r\nexport default SocialNWApp;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport SocialNWApp from \"./App\";\r\n\r\nReactDOM.render(<SocialNWApp />, document.getElementById(\"root\"));\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI, securityAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"social-network/auth/SET_USER_DATA\";\r\nconst GET_CAPTCHA_URL_SUCCESS = \"social-network/auth/GET_CAPTCHA_URL_SUCCESS\";\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const setUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: { userId, email, login, isAuth },\r\n});\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n  type: GET_CAPTCHA_URL_SUCCESS,\r\n  payload: { captchaUrl },\r\n});\r\nexport const getUserData = () => async (dispatch) => {\r\n  let data = await authAPI.getUsersMe();\r\n  if (data.resultCode === 0) {\r\n    let { id, login, email } = data.data;\r\n    dispatch(setUserData(id, email, login, true));\r\n  }\r\n};\r\nexport const login = (email, password, rememberMe, captcha) => async (\r\n  dispatch\r\n) => {\r\n  let data = await authAPI.login(email, password, rememberMe, captcha);\r\n  if (data.resultCode === 0) {\r\n    dispatch(getUserData());\r\n  } else {\r\n    let message = data.messages.length > 0 ? data.messages[0] : \"Some error\";\r\n    dispatch(stopSubmit(\"login\", { _error: message }));\r\n  }\r\n};\r\nexport const getCaptchaUrl = (email, password, rememberMe) => async (\r\n  dispatch\r\n) => {\r\n  const data = await securityAPI.getCaptchaUrl();\r\n  const captchaUrl = data.url;\r\n  dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  let data = await authAPI.logout();\r\n  if (data.resultCode === 0) {\r\n    dispatch(setUserData(null, null, null, false));\r\n  }\r\n};\r\nexport default authReducer;\r\n","export default __webpack_public_path__ + \"static/media/spinner-icon-gif-23.afa973ee.jpg\";","import React from \"react\";\r\n\r\nimport preloader from \"../../../assets/images/spinner-icon-gif-23.jpg\";\r\n\r\nlet Preloader = (props) => {\r\n  return <img src={preloader} alt={\"Load...\"} />;\r\n};\r\nexport default Preloader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__StH2I\",\"title\":\"Header_title__1SBl6\",\"rotateShadows\":\"Header_rotateShadows__2N4wl\",\"rotate-before\":\"Header_rotate-before__-jP7U\",\"rotate-after\":\"Header_rotate-after__2ZDHG\",\"loginBlock\":\"Header_loginBlock__2BIuz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3tY8W\",\"pageNumber\":\"Paginator_pageNumber__Qzh6s\",\"selectedPage\":\"Paginator_selectedPage__1PMvh\"};","import { profileAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst DELETE_POST = \"DELETE_POST\";\r\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\";\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: \"Hi, how are you?\", likesCount: 12 },\r\n    { id: 2, message: \"It`s my first post\", likesCount: 11 },\r\n    { id: 3, message: \"YoYo!!\", likesCount: 15 },\r\n  ],\r\n\r\n  profile: null,\r\n  status: \"\",\r\n};\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.newPostText,\r\n        likesCount: 0,\r\n      };\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: \"\",\r\n      };\r\n    }\r\n\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      };\r\n    }\r\n    case SET_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      };\r\n    }\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter((p) => p.id !== action.postId),\r\n      };\r\n    case SAVE_PHOTO_SUCCESS:\r\n      return {\r\n        ...state,\r\n        profile: { ...state.profile, photos: action.photos },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({\r\n  type: ADD_POST,\r\n  newPostText,\r\n});\r\nexport const setStatusActionCreator = (status) => ({\r\n  type: SET_STATUS,\r\n  status,\r\n});\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId });\r\nexport const savePhotoSuccess = (photos) => ({\r\n  type: SAVE_PHOTO_SUCCESS,\r\n  photos,\r\n});\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile,\r\n});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  let data = await profileAPI.getUsersProfile(userId);\r\n  dispatch(setUserProfile(data));\r\n};\r\nexport const getUsersStatus = (userId) => async (dispatch) => {\r\n  let data = await profileAPI.getUsersStatus(userId);\r\n  dispatch(setStatusActionCreator(data));\r\n};\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  let data = await profileAPI.updateStatus(status);\r\n  if (data.resultCode === 0) {\r\n    dispatch(setStatusActionCreator(status));\r\n  }\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  let data = await profileAPI.savePhoto(file);\r\n  if (data.resultCode === 0) {\r\n    dispatch(savePhotoSuccess(data.data.photos));\r\n  }\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  const data = await profileAPI.saveProfile(profile);\r\n\r\n  if (data.resultCode === 0) {\r\n    dispatch(getUserProfile(userId));\r\n  } else {\r\n    dispatch(stopSubmit(\"edit-profile\", { _error: data.messages[0] }));\r\n    return Promise.reject(data.messages[0]);\r\n  }\r\n};\r\nexport default profileReducer;\r\n","export default __webpack_public_path__ + \"static/media/user.96e310a6.png\";","const SEND_MESSAGE = \"SEND-MESSAGE\";\r\nlet initialState = {\r\n  dialogs: [\r\n    { id: 1, name: \"Flaffy\" },\r\n    { id: 2, name: \"Holly\" },\r\n    { id: 3, name: \"Berry\" },\r\n    { id: 4, name: \"Flint\" },\r\n    { id: 5, name: \"Mikky\" },\r\n  ],\r\n  messages: [\r\n    { id: 1, message: \"Hi\" },\r\n    { id: 2, message: \"Hello\" },\r\n    { id: 3, message: \"Glad to see\" },\r\n    { id: 4, message: \"Wow\" },\r\n    { id: 5, message: \"What&\" },\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      let body = action.newMessageBody;\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, { id: 6, message: body }],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({\r\n  type: SEND_MESSAGE,\r\n  newMessageBody,\r\n});\r\n\r\nexport default dialogsReducer;\r\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"77914f2b-e21f-4b69-89ab-95637cf60626\",\r\n  },\r\n  baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n  follow(userId) {\r\n    return instance.post(\r\n      `https://social-network.samuraijs.com/api/1.0/follow/${userId}`\r\n    );\r\n  },\r\n  unfollow(userId) {\r\n    return instance.delete(\r\n      `https://social-network.samuraijs.com/api/1.0/follow/${userId}`\r\n    );\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  getUsersMe() {\r\n    return instance.get(`auth/me`).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n  login(email, password, rememberMe = false, captcha = null) {\r\n    return instance\r\n      .post(`auth/login`, { email, password, rememberMe, captcha })\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getUsersProfile(userId) {\r\n    return instance.get(`profile/` + userId).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n  getUsersStatus(userId) {\r\n    return instance.get(`profile/status/` + userId).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n  updateStatus(status) {\r\n    return instance\r\n      .put(`profile/status`, { status: status })\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n  savePhoto(photoFile) {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", photoFile);\r\n    return instance\r\n      .put(`profile/photo`, formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart / form - data\",\r\n        },\r\n      })\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n\r\n  saveProfile(profile) {\r\n    return instance.put(`profile`, profile).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n};\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get(`security/get-captcha-url`);\r\n  },\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__1ItLq\"};"],"sourceRoot":""}